@{
    ViewBag.Title = "網站設定";
}
<link href="@Url.Content("~/Content/WebConfing.css")" rel="stylesheet" />
<div class="content-wrapper">
    <div class="content-header">
        <div class="container-fluid">
            <div class="row mb-2">
                <div class="col-sm-6">
                    <h1 class="m-0 text-dark">
                        <i class="nav-icon fas fa-cog"></i>
                        @ViewBag.Title
                    </h1>
                </div><!-- /.col -->
            </div><!-- /.row -->
        </div><!-- /.container-fluid -->
    </div>
    <div id="v_app"></div>
</div>

<template id="WebConfigManagement">
    <div class="content">
        <div class="container-fluid">
            <div class="card card-default color-palette-box">
                <div class="card-blue">
                    <div style="border-top: 5px solid black;border-bottom: 1px solid">
                        <div class="col">
                            <div class="info-box-content">
                                <div class="m-5">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div v-if="WebConfigItem">
                        <div class="row justify-content-center mt-3">
                            <div class="col-auto col-md-8">
                                <div class="form-group row mx-2 mb-3">
                                    <label class="px-3 col-4 col-form-label text-right">
                                        網站名稱：
                                    </label>

                                    <div class="col">
                                        <b-form-input type="text"
                                                      v-model="WebConfigItem.WebName"></b-form-input>
                                    </div>
                                </div>

                                <div class="form-group row mx-2 mb-3">
                                    <label class="px-3 col-4 col-form-label text-right">
                                        客服信箱：
                                    </label>
                                    <div class="col">
                                        <b-form-input type="text"
                                                      v-model="WebConfigItem.ServiceMail"></b-form-input>
                                    </div>
                                </div>

                                <div class="form-group row mx-2 mb-3">
                                    <label class="px-3 col-4 col-form-label text-right">
                                        Copyright：
                                    </label>
                                    <div class="col">
                                        <b-form-input type="text"
                                                      v-model="WebConfigItem.Copyright"></b-form-input>
                                    </div>
                                </div>

                                <div class="form-group row mx-2 mb-3">
                                    <label class="px-3 col-4 col-form-label text-right">
                                        系統寄件者名稱：
                                    </label>
                                    <div class="col">
                                        <b-form-input type="text"
                                                      v-model="WebConfigItem.SystemEmailName"></b-form-input>
                                    </div>
                                </div>

                                <div class="form-group row mx-2 mb-3">
                                    <label class="px-3 col-4 col-form-label text-right">
                                        系統寄件者信箱：
                                    </label>
                                    <div class="col">
                                        <b-form-input type="text"
                                                      v-model="WebConfigItem.SystemEmail"></b-form-input>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <hr class="m-4" />

                        <div class="row justify-content-center">
                            <div class="col-auto col-md-8">
                                <div class="form-group row mx-2 mb-3">
                                    <label class="px-3 col-4 col-form-label text-right">
                                        meta_title：
                                    </label>

                                    <div class="col">
                                        <b-form-input type="text"
                                                      v-model="WebConfigItem.meta_title"></b-form-input>
                                    </div>
                                </div>

                                <div class="form-group row mx-2 mb-3">
                                    <label class="px-3 col-4 col-form-label text-right">
                                        meta_keyword：
                                    </label>
                                    <div class="col">
                                        <b-form-input type="datetime"
                                                      v-model="WebConfigItem.meta_keyword"></b-form-input>
                                    </div>
                                </div>

                                <div class="form-group row mx-2 mb-3">
                                    <label class="px-3 col-4 col-form-label text-right">
                                        meta_description：
                                    </label>
                                    <div class="col">
                                        <b-form-input type="text"
                                                      v-model="WebConfigItem.meta_description"></b-form-input>
                                    </div>
                                </div>

                                <div class="form-group row mx-2 mb-3">
                                    <label class="px-3 col-4 col-form-label text-right">
                                        meta_url：
                                    </label>
                                    <div class="col">
                                        <b-form-input type="text"
                                                      v-model="WebConfigItem.meta_url"></b-form-input>
                                    </div>
                                </div>

                                <div class="form-group row mx-2 mb-3">
                                    <label class="px-3 col-4 col-form-label text-right">
                                        meta_image：
                                    </label>
                                    <div class="col">
                                        <b-form-input type="text"
                                                      v-model="WebConfigItem.meta_image"></b-form-input>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row justify-content-end">
                            <div class="col-auto p-3">
                                <button class="btn btn-primary" type="submit" v-on:click.prevent="SubmitWebConfig" data-toggle="modal" data-target="#WebConfigModal">
                                    送出
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal animated zoomIn" id="WebConfigModal" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content justify-content-center">
                    <div class="modal-body">

                        <div v-if="SaveForm == 'Loading'">
                            <div class="row">
                                <div class="col text-center">
                                    <div class="circle-loader m-4">
                                    </div>
                                </div>
                            </div>
                            <div class="row mb-2">
                                <div class="col text-center h4">
                                    儲存中...請稍後
                                </div>
                            </div>
                        </div>

                        <div v-if="SaveForm == 'Success'">
                            <div class="row">
                                <div class="col text-center">
                                    <div class="circle-loader m-4 load-complete">
                                        <div class="checkmark draw"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="row mb-2">
                                <div class="col text-center h4">
                                    儲存完成
                                </div>
                            </div>
                        </div>


                        <div class="row">
                            <div class="col text-center">
                                <button type="button" class="btn btn-success" data-dismiss="modal">確認</button>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>

    </div>
</template>

@section Scripts {
    <script>
        requirejs.config({
            baseUrl: "@Url.Content("~/Scripts/build/view/WebConfig")"
        });
        require(["index"]);
    </script>
}
